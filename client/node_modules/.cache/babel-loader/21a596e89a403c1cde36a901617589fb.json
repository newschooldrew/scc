{"ast":null,"code":"import _slicedToArray from\"/Users/andrewperez/Documents/projects/scc/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import AuthContext from'../AuthContext';import{totalPrice,totalItemPrice}from'../cart.utils';import{Table}from'reactstrap';var divStyle={margin:'30% 0 0 0'};var Receipt=function Receipt(){var _useContext=useContext(AuthContext),state=_useContext.state,dispatch=_useContext.dispatch;var username=state.username,profile=state.profile,orderCount=state.orderCount;var cartItems=JSON.parse(sessionStorage.getItem('cart'));var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState('http://localhost:5001'),_useState4=_slicedToArray(_useState3,2),endpoint=_useState4[0],setEndpoint=_useState4[1];var getData=function getData(item){console.log(\"get Data ran\");console.log(item);console.log(item.length);sessionStorage.setItem('cart',0);sessionStorage.setItem('cartTotal',null);if(username==\"alert_tester\"){sessionStorage.setItem('orderCount',item.length);}};window.addEventListener('beforeunload',function(e){e.preventDefault();// If you prevent default behavior in Mozilla Firefox prompt will always be shown\nsessionStorage.removeItem('cart');sessionStorage.removeItem('cartTotal');Object.keys(sessionStorage).map(function(data){sessionStorage.removeItem(data);});// Cancel the event\n// Chrome requires returnValue to be set\n});return/*#__PURE__*/React.createElement(\"div\",{style:divStyle},/*#__PURE__*/React.createElement(\"div\",null,\"Your payment was processed!\"),/*#__PURE__*/React.createElement(Table,{responsive:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"text-center\"},\"Title\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-right\"},\"Cart\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-right\"},\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",{className:\"text-right\"},\"Total\"))),/*#__PURE__*/React.createElement(\"tbody\",null,cartItems.map(function(cart,idx){console.log(cart.price);return/*#__PURE__*/React.createElement(\"tr\",{key:idx},/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},cart.title),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},cart.price),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},cart.quantity),/*#__PURE__*/React.createElement(\"td\",{className:\"text-center\"},totalItemPrice(cart)));}),\"Total: \",totalPrice(cartItems))));};export default Receipt;","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/scc/client/src/Receipt/Receipt.js"],"names":["React","useState","useEffect","useContext","AuthContext","totalPrice","totalItemPrice","Table","divStyle","margin","Receipt","state","dispatch","username","profile","orderCount","cartItems","JSON","parse","sessionStorage","getItem","data","setData","endpoint","setEndpoint","getData","item","console","log","length","setItem","window","addEventListener","e","preventDefault","removeItem","Object","keys","map","cart","idx","price","title","quantity"],"mappings":"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","sourcesContent":["import React, {useState,useEffect,useContext} from 'react'\nimport AuthContext from '../AuthContext'\nimport {totalPrice,totalItemPrice} from '../cart.utils'\nimport { Table } from 'reactstrap';\n\nconst divStyle = {\n    margin:'30% 0 0 0'\n}\n\n\nconst Receipt = () => {\n    const {state,dispatch} = useContext(AuthContext)\n    let {username,profile,orderCount} = state;\n    const cartItems = JSON.parse(sessionStorage.getItem('cart'))\n    \n    const [data,setData] = useState(null)\n    const [endpoint,setEndpoint] = useState('http://localhost:5001')\n\n    const getData = item => {\n        console.log(\"get Data ran\");\n        console.log(item)\n        console.log(item.length)\n        sessionStorage.setItem('cart',0)\n        sessionStorage.setItem('cartTotal',null)\n        if(username == \"alert_tester\"){\n            sessionStorage.setItem('orderCount',item.length)\n        }\n      };\n\n    window.addEventListener('beforeunload', function (e) {\n        e.preventDefault(); // If you prevent default behavior in Mozilla Firefox prompt will always be shown\n        sessionStorage.removeItem('cart')\n        sessionStorage.removeItem('cartTotal')\n\n        Object.keys(sessionStorage).map(data =>{\n            sessionStorage.removeItem(data)  \n        })\n\n        // Cancel the event\n        // Chrome requires returnValue to be set\n      });\n\n    return (<div style={divStyle}>\n            <div>Your payment was processed!</div>\n            <Table responsive>\n                <thead>\n            <tr>\n                <th className=\"text-center\">Title</th>\n                <th className=\"text-right\">Cart</th>\n                <th className=\"text-right\">Quantity</th>\n                <th className=\"text-right\">Total</th>\n            </tr>\n            </thead>\n            <tbody>\n                {\n                    cartItems.map((cart,idx) => {\n                        console.log(cart.price)\n                        return (\n                        <tr key={idx}>\n                            <td className=\"text-center\">{cart.title}</td>\n                            <td className=\"text-center\">{cart.price}</td>\n                            <td className=\"text-center\">{cart.quantity}</td>\n                            <td className=\"text-center\">{totalItemPrice(cart)}</td>\n                        </tr>\n                            )\n                        })\n                    }\n                Total: {totalPrice(cartItems)}\n            </tbody>\n            </Table>\n            </div>)\n}\n\nexport default Receipt\n"]},"metadata":{},"sourceType":"module"}