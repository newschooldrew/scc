{"ast":null,"code":"import _regeneratorRuntime from\"/Users/andrewperez/Documents/projects/scc/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/andrewperez/Documents/projects/scc/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';export var fetchAllMasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/fetch-masks');case 2:res=_context.sent;console.log(\"fetch masks response is: \");console.log(res.data);dispatch({type:\"FETCH_ALL_MASKS\",payload:res.data});case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchAllMasks(_x){return _ref.apply(this,arguments);};}();export var filterMasks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value,dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"filter meals:\");console.log(value);_context2.next=4;return axios.post('/filter-masks',{value:value});case 4:res=_context2.sent;console.log(\"fetch order from alerts\");console.log(res.data);dispatch({type:\"FETCH_ALL_MASKS\",payload:res.data});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function filterMasks(_x2,_x3){return _ref2.apply(this,arguments);};}();export var removeItemFromCartDB=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(id);_context3.next=3;return axios.post('/remove-item-from-cart-db',{id:id});case 3:res=_context3.sent;console.log(res);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function removeItemFromCartDB(_x4){return _ref3.apply(this,arguments);};}();export var changeLimitReached=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id,dispatch){var res,fetchedMasks;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(id);_context4.next=3;return axios.post('/change-limit-reached',{id:id});case 3:res=_context4.sent;_context4.next=6;return axios.get('/fetch-masks');case 6:fetchedMasks=_context4.sent;console.log(fetchedMasks);dispatch({type:\"FETCH_ALL_MASKS\",payload:fetchedMasks.data});case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function changeLimitReached(_x5,_x6){return _ref4.apply(this,arguments);};}();export var removeItemFromInventory=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(cartTotal){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log(\"cartTotal\");console.log(typeof cartTotal);console.log(cartTotal);_context5.next=5;return axios.post('/remove-item-from-inventory',{cartTotal:cartTotal});case 5:res=_context5.sent;case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function removeItemFromInventory(_x7){return _ref5.apply(this,arguments);};}();export var getPublicStripeKey=function getPublicStripeKey(options){return window.fetch(\"/public-key\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){if(res.status===200){return res.json();}else{return null;}}).then(function(data){if(!data||data.error){console.log(\"API error:\",{data:data});throw Error(\"API Error\");}else{return data.publicKey;}});};export var createPaymentIntent=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(item){var actualName,lastName,address,city,province,postal_code,price,cartTotal,options,res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:actualName=item.actualName,lastName=item.lastName,address=item.address,city=item.city,province=item.province,postal_code=item.postal_code,price=item.price,cartTotal=item.cartTotal;//   dispatch({type:\"CREATE_ORDER\",payload:item})\noptions={actualName:actualName,lastName:lastName,cartTotal:cartTotal,address:address,city:city,province:province,postal_code:postal_code,price:price,currency:\"USD\"};_context6.next=4;return axios.post('/create-payment-intent',options);case 4:res=_context6.sent;return _context6.abrupt(\"return\",res.data);case 6:case\"end\":return _context6.stop();}}},_callee6);}));return function createPaymentIntent(_x8){return _ref6.apply(this,arguments);};}();export var createOrder=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(item){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log(\"item:\");console.log(item);_context7.next=4;return axios.post('/create-order',item);case 4:res=_context7.sent;console.log(\"new order created\");case 6:case\"end\":return _context7.stop();}}},_callee7);}));return function createOrder(_x9){return _ref7.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/scc/client/src/actions.js"],"names":["axios","fetchAllMasks","dispatch","get","res","console","log","data","type","payload","filterMasks","value","post","removeItemFromCartDB","id","changeLimitReached","fetchedMasks","removeItemFromInventory","cartTotal","getPublicStripeKey","options","window","fetch","method","headers","then","status","json","error","Error","publicKey","createPaymentIntent","item","actualName","lastName","address","city","province","postal_code","price","currency","createOrder"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nexport const fetchAllMasks = async (dispatch) =>{\n    const res = await axios.get('/fetch-masks');\n        console.log(\"fetch masks response is: \")\n        console.log(res.data)\n        dispatch({type:\"FETCH_ALL_MASKS\",payload:res.data})\n    }\n\nexport const filterMasks = async (value,dispatch) =>{\n        console.log(\"filter meals:\")\n        console.log(value)\n        \n        const res = await axios.post('/filter-masks',{value});\n            console.log(\"fetch order from alerts\")\n            console.log(res.data)\n            dispatch({type:\"FETCH_ALL_MASKS\",payload:res.data}) \n    }\n\nexport const removeItemFromCartDB = async id => {\n    console.log(id)\n        const res = await axios.post('/remove-item-from-cart-db',{id})\n        console.log(res);\n}\n\nexport const changeLimitReached = async (id,dispatch) => {\n    console.log(id)\n        const res = await axios.post('/change-limit-reached',{id})\n        const fetchedMasks = await axios.get('/fetch-masks');\n        console.log(fetchedMasks);\n        dispatch({type:\"FETCH_ALL_MASKS\",payload:fetchedMasks.data}) \n}\n\nexport const removeItemFromInventory = async cartTotal => {\n    console.log(\"cartTotal\")\n    console.log(typeof cartTotal)\n    console.log(cartTotal)\n        const res = await axios.post('/remove-item-from-inventory',{cartTotal})\n}\n\nexport const getPublicStripeKey = options => {\n    return window\n      .fetch(`/public-key`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      })\n      .then(res => {\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          return null;\n        }\n      })\n      .then(data => {\n        if (!data || data.error) {\n          console.log(\"API error:\", { data });\n          throw Error(\"API Error\");\n        } else {\n          return data.publicKey;\n        }\n      });\n  };\n\n  export const createPaymentIntent = async item => {\n    const {actualName,lastName,address,city,province,postal_code,price,cartTotal} = item;\n    //   dispatch({type:\"CREATE_ORDER\",payload:item})\n    const options = {\n        actualName,\n        lastName,\n        cartTotal,\n        address,\n        city,\n        province,\n        postal_code,\n        price,\n        currency: \"USD\"\n      };\n    const res = await axios.post('/create-payment-intent',options)\n      return res.data;\n  };\n  \n  export const createOrder = async item =>{\n    console.log(\"item:\")\n    console.log(item)\n    const res = await axios.post('/create-order', item);\n        console.log(\"new order created\")        \n}"]},"metadata":{},"sourceType":"module"}