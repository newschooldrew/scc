{"ast":null,"code":"var _jsxFileName = \"/Users/andrewperez/Documents/projects/scc/client/src/Header/Header.js\";\nimport React, { useContext, useEffect, useRef } from 'react';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AuthContext from '../AuthContext';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport CartDropdown from '../CartDropdown/CartDropdown';\nimport update from 'immutability-helper';\nimport { fetchAllMasks } from '../actions';\nimport './header.css';\n\nconst Header = ({\n  history,\n  match\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(AuthContext);\n  const {\n    cartItems,\n    toggleCart,\n    hideStickyUnit,\n    hitCount\n  } = state;\n  let cartItemCount = sessionStorage.getItem('cartTotal');\n  let orderCountItems = sessionStorage.getItem('orderCount');\n  let sessionCartItems = JSON.parse(sessionStorage.getItem('cart'));\n  let newTotal;\n  let hitButton = useRef(0);\n  let wrapperRef = useRef(null);\n  useEffect(() => {\n    if (cartItemCount == null) {\n      sessionStorage.setItem('cartTotal', 0);\n    }\n\n    if (cartItems == undefined || cartItems == 'null') {\n      console.log(\"CartItems is undefined\");\n    } else {\n      newTotal = cartItems.reduce((acc, cartItem) => acc + cartItem.quantity, 0);\n      sessionStorage.setItem('cart', JSON.stringify(cartItems));\n      sessionStorage.setItem('cartTotal', newTotal);\n    }\n  }, []);\n  useEffect(() => {\n    if (cartItemCount == null) {\n      sessionStorage.setItem('cartTotal', 0);\n    }\n\n    console.log(\"cartItemCount\");\n    console.log(cartItems);\n\n    if (cartItems.length == 0) {\n      console.log(\"cart item is 0\");\n      let currentItem = wrapperRef.current;\n      currentItem.classList.remove('cart-full');\n      currentItem.classList.add('cart-empty');\n    }\n\n    if (cartItems == undefined || cartItems == 'null') {\n      console.log(\"CartItems is undefined\");\n    } else {\n      let currentItem = wrapperRef.current;\n      console.log(\"currentItem\");\n      console.log(currentItem);\n      currentItem.classList.remove('cart-empty');\n      currentItem.classList.add('cart-full');\n      sessionStorage.setItem('cart', JSON.stringify(cartItems));\n      newTotal = cartItems.reduce((acc, cartItem) => acc + cartItem.quantity, 0);\n      dispatch({\n        type: \"HIT_COUNT\",\n        payload: hitButton.current += 1\n      });\n      sessionStorage.setItem('cartTotal', newTotal);\n    }\n  }, [cartItems, hitButton]);\n  const mobileSize = useMediaQuery('(max-width:600px)');\n  const tabletSize = useMediaQuery('(max-width:1000px)');\n\n  const handleCartClick = () => {\n    dispatch({\n      type: \"TOGGLE_CART\",\n      payload: toggleCart\n    });\n  };\n\n  const handleHeaderClick = () => {\n    if (history.location.pathname == '/receipt') {\n      dispatch({\n        type: \"EMPTY_CART\"\n      });\n      history.push('/');\n    } else {\n      history.push('/');\n    }\n  };\n\n  const handleCheckoutClick = () => {\n    fetchAllMasks(dispatch);\n    history.push('/checkout');\n    console.log(match.params);\n\n    if (history.location.pathname) {\n      dispatch({\n        type: \"HIDE_STICKY_UNIT\",\n        payload: true\n      });\n    }\n  };\n\n  const headerStyle = {\n    width: '100%',\n    height: '175px',\n    display: 'flex',\n    justifyContent: 'spaceBetween'\n  };\n  const tabletHeaderStyle = {\n    width: '100%',\n    height: '135px',\n    display: 'flex',\n    justifyContent: 'spaceBetween'\n  };\n  const mobHeaderStyle = {\n    width: '100%',\n    height: '105px',\n    display: 'flex',\n    justifyContent: 'spaceBetween'\n  };\n  const iconStyle = {\n    width: '85%',\n    height: '175px',\n    margin: 'auto',\n    display: 'flex'\n  };\n  const mobIconStyle = {\n    width: '85%',\n    margin: 'auto',\n    display: 'flex'\n  };\n  const innerIconStyle = {\n    width: '75%',\n    justifyContent: 'spaceBetween'\n  };\n  const outerIconStyle = {\n    width: '13%',\n    justifyContent: 'spaceBetween'\n  };\n  let cartSectionStyle = {\n    width: '15%',\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '10px'\n  };\n  let mobCartSectionStyle = {\n    padding: '0px'\n  };\n  let mobButtonStyle = {\n    height: '35',\n    width: '35',\n    float: 'right'\n  };\n  let mobileFontStyle = {\n    fontSize: '20px',\n    justifyContent: 'center',\n    alignItems: 'center'\n  };\n  let buttonStyle = {\n    height: '70',\n    width: '70'\n  };\n  let fontStyle = {\n    fontSize: '14px'\n  };\n  const useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1,\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    icon: {\n      color: \"green\",\n      fontSize: 45\n    },\n    mobile: {\n      display: \"none\"\n    },\n    picture: {\n      height: \"50px\",\n      borderRadius: \"90%\"\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    title: {\n      flexGrow: 1\n    },\n    alertStyle: {\n      backgroundColor: 'red',\n      width: '5%',\n      borderRadius: '55px',\n      textAlign: 'center'\n    },\n    appbarHeight: {\n      marginTop: '80vh',\n      height: '175px',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    appbarInnerDiv: {\n      width: '35%',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    appbarOuterDiv: {\n      width: '50%',\n      justifyContent: 'center',\n      alignItems: 'center',\n      margin: '3% 0 0 0'\n    },\n    appbarHeightDiv: {\n      width: '100%',\n      margin: '5px',\n      justifyContent: 'spaceBetween',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    bigFont: {\n      fontSize: '26px',\n      color: 'white',\n      backgroundColor: '#2ca8ff'\n    },\n    center: {\n      margin: 'auto'\n    },\n    pContainer: {\n      margin: 'auto',\n      textAlign: 'center',\n      fontWeight: 'bold'\n    }\n  }));\n  const clickable = {\n    cursor: 'pointer',\n    margin: '0 25px 0 0'\n  };\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    color: \"teal\",\n    position: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 10\n    }\n  }, mobileSize && hideStickyUnit !== true ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AppBar, {\n    className: classes.appbarHeight,\n    position: \"fixed\",\n    color: \"info\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCheckoutClick,\n    className: classes.bigFont,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, \"Go To Checkout\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.appbarHeightDiv,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.appbarInnerDiv,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ShoppingCartIcon, {\n    style: mobButtonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.appbarOuterDiv,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: mobileFontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }\n  }, \"Cart Items: \", cartItemCount))))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    style: mobileSize ? mobHeaderStyle : tabletSize ? tabletHeaderStyle : headerStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: mobileSize ? mobIconStyle : iconStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: outerIconStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: innerIconStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"\",\n    onClick: handleHeaderClick,\n    style: clickable,\n    src: \"https://res.cloudinary.com/dzdvrgbjd/image/upload/v1599961709/CAAEYC_SouthernCalifornia_satellite_wide_tcqkpt.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: outerIconStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 29\n    }\n  }, orderCountItems), !mobileSize ? /*#__PURE__*/React.createElement(\"div\", {\n    style: mobileSize ? mobCartSectionStyle : cartSectionStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 34\n    }\n  }, history.location.pathname == '/receipt' || history.location.pathname == '/checkout' ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    edge: \"start\",\n    onClick: handleCartClick,\n    className: classes.menuButton,\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(ShoppingCartIcon, {\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.pContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    ref: wrapperRef,\n    style: fontStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 77\n    }\n  }, \"Cart Items: \", cartItemCount))), toggleCart ? /*#__PURE__*/React.createElement(CartDropdown, {\n    cartItems: sessionCartItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 52\n    }\n  }) : null) : null)));\n};\n\nexport default withRouter(Header);","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/scc/client/src/Header/Header.js"],"names":["React","useContext","useEffect","useRef","useMediaQuery","AuthContext","AppBar","withRouter","makeStyles","Button","ShoppingCartIcon","CartDropdown","update","fetchAllMasks","Header","history","match","state","dispatch","cartItems","toggleCart","hideStickyUnit","hitCount","cartItemCount","sessionStorage","getItem","orderCountItems","sessionCartItems","JSON","parse","newTotal","hitButton","wrapperRef","setItem","undefined","console","log","reduce","acc","cartItem","quantity","stringify","length","currentItem","current","classList","remove","add","type","payload","mobileSize","tabletSize","handleCartClick","handleHeaderClick","location","pathname","push","handleCheckoutClick","params","headerStyle","width","height","display","justifyContent","tabletHeaderStyle","mobHeaderStyle","iconStyle","margin","mobIconStyle","innerIconStyle","outerIconStyle","cartSectionStyle","flexDirection","padding","mobCartSectionStyle","mobButtonStyle","float","mobileFontStyle","fontSize","alignItems","buttonStyle","fontStyle","useStyles","theme","root","flexGrow","grow","icon","color","mobile","picture","borderRadius","menuButton","marginRight","spacing","title","alertStyle","backgroundColor","textAlign","appbarHeight","marginTop","appbarInnerDiv","appbarOuterDiv","appbarHeightDiv","bigFont","center","pContainer","fontWeight","clickable","cursor","classes"],"mappings":"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","sourcesContent":["import React,{useContext,useEffect,useRef} from 'react'\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AuthContext from '../AuthContext'\nimport AppBar from \"@material-ui/core/AppBar\";\nimport {withRouter} from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport CartDropdown from '../CartDropdown/CartDropdown'\nimport update from 'immutability-helper'\nimport {fetchAllMasks} from '../actions'\nimport './header.css'\n\nconst Header = ({history,match}) => {\n    const {state,dispatch} = useContext(AuthContext)\n    const {cartItems,toggleCart,hideStickyUnit,hitCount} = state;\n    let cartItemCount = sessionStorage.getItem('cartTotal')\n    let orderCountItems = sessionStorage.getItem('orderCount')\n    let sessionCartItems = JSON.parse(sessionStorage.getItem('cart'))\n    let newTotal;\n    let hitButton = useRef(0)\n    let wrapperRef = useRef(null)\n    \n    useEffect(() =>{\n        if(cartItemCount == null){\n            sessionStorage.setItem('cartTotal',0)\n        } \n\n                if(cartItems == undefined || cartItems == 'null' ){\n                    console.log(\"CartItems is undefined\")\n                } else{\n                    newTotal = cartItems.reduce((acc,cartItem) => acc + cartItem.quantity,0)\n                    sessionStorage.setItem('cart',JSON.stringify(cartItems))\n                    sessionStorage.setItem('cartTotal',newTotal)\n                }\n    },[])\n\n    useEffect(() =>{              \n        if(cartItemCount == null){\n            sessionStorage.setItem('cartTotal',0)\n        } \n        console.log(\"cartItemCount\")\n        console.log(cartItems)\n        if(cartItems.length == 0){\n            console.log(\"cart item is 0\")\n            let currentItem = wrapperRef.current;\n            currentItem.classList.remove('cart-full')\n            currentItem.classList.add('cart-empty')\n        }\n        \n        if(cartItems == undefined || cartItems == 'null' ){\n            console.log(\"CartItems is undefined\")\n        } else{\n            let currentItem = wrapperRef.current;\n            console.log(\"currentItem\")\n            console.log(currentItem)\n            currentItem.classList.remove('cart-empty')\n            currentItem.classList.add('cart-full')\n            sessionStorage.setItem('cart',JSON.stringify(cartItems))\n            newTotal = cartItems.reduce((acc,cartItem) => acc + cartItem.quantity,0)\n            dispatch({type:\"HIT_COUNT\",payload:hitButton.current +=1})\n            sessionStorage.setItem('cartTotal',newTotal)\n        }\n          \n\n    },[cartItems,hitButton])\n\n        const mobileSize = useMediaQuery('(max-width:600px)');\n        const tabletSize = useMediaQuery('(max-width:1000px)');\n\nconst handleCartClick = () =>{\n    dispatch({type:\"TOGGLE_CART\",payload:toggleCart})\n}\n\nconst handleHeaderClick = () => {\n    if(history.location.pathname == '/receipt') {\n        dispatch({type:\"EMPTY_CART\"})\n        history.push('/')\n    } else{\n        history.push('/')\n    }\n}\n\nconst handleCheckoutClick = () =>{\n    fetchAllMasks(dispatch)\n    history.push('/checkout')\n    console.log(match.params)\n    if(history.location.pathname){\n        dispatch({type:\"HIDE_STICKY_UNIT\",payload:true})\n    }\n}\n\nconst headerStyle = {\n    width:'100%',\n    height:'175px',\n    display: 'flex',\n    justifyContent: 'spaceBetween'\n}\n\nconst tabletHeaderStyle = {\n    width:'100%',\n    height:'135px',\n    display: 'flex',\n    justifyContent: 'spaceBetween'\n}\n\nconst mobHeaderStyle = {\n    width:'100%',\n    height:'105px',\n    display: 'flex',\n    justifyContent: 'spaceBetween'\n}\n\nconst iconStyle = {\n    width:'85%',\n    height:'175px',\n    margin:'auto',\n    display:'flex'\n}\n\nconst mobIconStyle = {\n    width:'85%',\n    margin:'auto',\n    display:'flex'\n}\n\nconst innerIconStyle = {\n    width:'75%',\n    justifyContent:'spaceBetween'\n}\n\nconst outerIconStyle = {\n    width:'13%',\n    justifyContent:'spaceBetween',\n}\nlet cartSectionStyle = {\n    width:'15%',\n    height:'100%',\n    display: 'flex',\n    flexDirection: 'column',\n    padding:'10px'\n}\nlet mobCartSectionStyle = {\n    padding:'0px'\n}\n\nlet mobButtonStyle = {\n    height:'35',\n    width:'35',\n    float:'right'\n}\nlet mobileFontStyle ={\n    fontSize: '20px',\n    justifyContent:'center',\n    alignItems:'center'\n}\n\nlet buttonStyle = {\n    height:'70',\n    width:'70'\n}\n\nlet fontStyle = {\n    fontSize:'14px'\n}\n\n    const useStyles = makeStyles(theme => ({\n        root: {\n          flexGrow: 1\n        },\n        grow: {\n          flexGrow: 1,\n          display: \"flex\",\n          alignItems: \"center\"\n        },\n        icon: {\n          color: \"green\",\n          fontSize: 45\n        },\n        mobile: {\n          display: \"none\"\n        },\n        picture: {\n          height: \"50px\",\n          borderRadius: \"90%\"\n        },\n        menuButton: {\n          marginRight: theme.spacing(2),\n        },\n        title: {\n            flexGrow: 1,\n          },\n        alertStyle:{\n            backgroundColor:'red',\n            width:'5%',\n            borderRadius:'55px',\n            textAlign:'center'\n        },\n        appbarHeight:{\n            marginTop:'80vh',\n            height:'175px',\n            display: 'flex',\n            flexDirection: 'column'\n        },\n        appbarInnerDiv:{\n            width:'35%',\n            justifyContent:'center',\n            alignItems:'center'\n        },\n        appbarOuterDiv:{\n            width:'50%',\n            justifyContent:'center',\n            alignItems:'center',\n            margin: '3% 0 0 0'\n        },\n        appbarHeightDiv:{\n            width:'100%',\n            margin:'5px',\n            justifyContent: 'spaceBetween',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems:'center'\n        },\n        bigFont:{\n            fontSize:'26px',\n            color:'white',\n            backgroundColor:'#2ca8ff'\n        },\n        center:{\n            margin:'auto'\n        },\n        pContainer:{\n            margin:'auto',\n            textAlign:'center',\n            fontWeight:'bold'\n        }\n      })\n    );\n\n    const clickable = {\n        cursor:'pointer',\n        margin: '0 25px 0 0'\n    }\n      \n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n         <AppBar color=\"teal\" position=\"fixed\">\n         {mobileSize && hideStickyUnit !== true ? \n         (<>\n            <AppBar className={classes.appbarHeight} position=\"fixed\" color=\"info\" type=\"button\">\n            <Button onClick={handleCheckoutClick} className={classes.bigFont}>\n                    <p>\n                        Go To Checkout\n                    </p>\n                \n                </Button>\n                <div className={classes.appbarHeightDiv}>\n                    <div className={classes.appbarInnerDiv}>\n                        <ShoppingCartIcon style={mobButtonStyle} />\n                    </div>\n                    <div className={classes.appbarOuterDiv}>\n                        <p style={mobileFontStyle}>\n                            Cart Items: {cartItemCount}\n                        </p>\n                    </div>\n                </div>\n\n            </AppBar>\n            </>)\n         : null}\n                \n                <div style={mobileSize ? mobHeaderStyle : tabletSize ? tabletHeaderStyle :headerStyle}>\n                    <div style={mobileSize ? mobIconStyle : iconStyle}>\n                        <div style={outerIconStyle}></div>\n                        <div style={innerIconStyle}>\n                            <img alt=\"\" onClick={handleHeaderClick} style={clickable} src=\"https://res.cloudinary.com/dzdvrgbjd/image/upload/v1599961709/CAAEYC_SouthernCalifornia_satellite_wide_tcqkpt.png\" />\n                        </div>\n                        <div style={outerIconStyle}></div>\n                    </div>\n                            <div>{orderCountItems}</div>\n                            {!mobileSize ? \n                                (<div style={mobileSize ? mobCartSectionStyle : cartSectionStyle}>\n                                    {history.location.pathname == '/receipt' || history.location.pathname == '/checkout' ? null :(<>\n                                    <Button edge=\"start\" onClick={handleCartClick} className={classes.menuButton} color=\"inherit\">\n                                    <ShoppingCartIcon style={buttonStyle} />\n                                    </Button>\n                                        <div className={classes.pContainer}><p ref={wrapperRef} style={fontStyle}>Cart Items: {cartItemCount}</p></div></>)}\n                                    {toggleCart ? (<CartDropdown cartItems={sessionCartItems} />):null}\n                                </div>)\n                        :null}\n                </div>  \n                \n        </AppBar>\n    </div>\n    )        \n}\n\nexport default withRouter(Header);"]},"metadata":{},"sourceType":"module"}