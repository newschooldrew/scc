{"ast":null,"code":"var _jsxFileName = \"/Users/andrewperez/Documents/projects/scc/client/src/App.js\";\nimport React, { useContext, useEffect, useState, useRef } from 'react';\nimport AuthContext from './AuthContext';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { fetchMaskCategory, fetchAllMasks } from './actions';\nimport { Link, withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CustomButton from './CustomButton/CustomButton'; // reactstrap components\n\nimport { Button, Card, CardHeader, CardBody, CardFooter, CardTitle, CardText, Collapse, Label, FormGroup, Input, Container, Row, Col, UncontrolledTooltip } from \"reactstrap\";\n\nconst App = ({\n  history,\n  match\n}) => {\n  const {\n    state,\n    dispatch\n  } = useContext(AuthContext);\n  const {\n    allMasks,\n    cartItems,\n    masksCategory\n  } = state;\n  let sessionCartItems = JSON.parse(sessionStorage.getItem('cart'));\n  let sessionAllMasks = JSON.parse(sessionStorage.getItem('allMasks'));\n  let hitButton = useRef(0);\n  const [filterValue, setFilterValue] = useState({\n    people: false,\n    animals: false,\n    flowers: false\n  });\n  const mobileSize = useMediaQuery('(max-width:600px)');\n  const tabletSize = useMediaQuery('(max-width:800px)');\n  const itemsRef = useRef([]);\n  const useStyles = makeStyles(theme => ({\n    paper: {\n      display: 'flex',\n      textAlign: 'center',\n      flexDirection: 'column',\n      padding: '15px',\n      margin: '15px'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(3)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    },\n    paper: {\n      padding: theme.spacing(.25),\n      textAlign: 'center',\n      color: theme.palette.text.secondary\n    },\n    clickable: {\n      width: '200px',\n      height: '160px',\n      objectFit: 'cover',\n      borderRadius: '4x'\n    },\n    scroll: {\n      overflow: 'scroll',\n      margin: '25% 0 0 0'\n    },\n    width: {\n      width: 0\n    },\n    center: {\n      textAlign: 'center'\n    },\n    buttonCenter: {\n      margin: '5px',\n      cursor: 'pointer'\n    },\n    fullWidth: {\n      margin: 'auto'\n    },\n    buttonMargin: {\n      marginRight: '10px'\n    },\n    soldOut: {\n      color: 'red',\n      fontWeight: 'bold',\n      margin: '0 0 15% 0'\n    },\n    section: {\n      margin: '10% 0 15% 0'\n    },\n    quantityStyle: {\n      margin: '0 0 15% 0'\n    },\n    header: {\n      width: '100%',\n      textAlign: 'center',\n      fontWeight: 'bold',\n      fontSize: '1.05em',\n      display: 'flex',\n      flexDirection: 'row'\n    },\n    innerHeader: {\n      width: '30%'\n    },\n    mobileInnerHeader: {\n      width: '17%'\n    },\n    outerHeader: {\n      width: '65%'\n    },\n    buttonStyle: {\n      'color': 'white',\n      'fontWeight': 'bold'\n    },\n    filterFont: {\n      'fontSize': '1em'\n    },\n    fontPrice: {\n      fontWeight: 'bold',\n      color: 'black'\n    }\n  }));\n  const classes = useStyles();\n  useEffect(() => {\n    fetchAllMasks(dispatch);\n    fetchMaskCategory(dispatch, match.params.category);\n    dispatch({\n      type: \"HIDE_STICKY_UNIT\",\n      payload: false\n    });\n\n    if (sessionAllMasks && sessionAllMasks.length > 1 && sessionAllMasks !== null) {\n      console.log(\"\");\n    } else {\n      sessionStorage.setItem('allMasks', JSON.stringify(allMasks));\n    }\n\n    dispatch({\n      type: \"SET_ALERT\",\n      payload: ''\n    });\n  }, []);\n  useEffect(() => {\n    fetchMaskCategory(dispatch, match.params.category);\n  }, [match.params]);\n  useEffect(() => {\n    if (sessionAllMasks && sessionAllMasks.length > 1 && sessionAllMasks !== null) {\n      console.log(\"\");\n    } else {\n      console.log(\"allMasks\");\n      console.log(allMasks);\n      sessionStorage.setItem('allMasks', JSON.stringify(allMasks));\n    }\n\n    if (cartItems && cartItems.length > 0) {\n      // try{\n      if (cartItems !== undefined || cartItems !== null) {\n        sessionStorage.setItem('cart', JSON.stringify(cartItems));\n        newTotal = cartItems.reduce((acc, cartItem) => acc + cartItem.quantity, 0);\n        dispatch({\n          type: \"HIT_COUNT\",\n          payload: hitButton.current += 1\n        });\n        sessionStorage.setItem('cartTotal', newTotal);\n      }\n    }\n  }, [cartItems, hitButton]); // collapse states and functions\n\n  const [collapses, setCollapses] = React.useState([1]);\n\n  const changeCollapse = collapse => {\n    if (collapses.includes(collapse)) {\n      setCollapses(collapses.filter(prop => prop !== collapse));\n    } else {\n      setCollapses([...collapses, collapse]);\n    }\n  };\n\n  let newTotal;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: (\"wrapper\", classes.scroll),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, tabletSize || mobileSize ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.mobileInnerHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.outerHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.filterFont,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, \"Filter Mask by Type\"))) : null, mobileSize && history.location.pathname !== '/checkout' || tabletSize && history.location.pathname !== '/checkout' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.fullWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: match.params.category == \"animals\" ? \"success\" : \"info\",\n    type: \"button\",\n    className: classes.buttonCenter,\n    value: \"animals\",\n    onClick: () => history.push('/shopping/animals'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 19\n    }\n  }, \"Animals\"), /*#__PURE__*/React.createElement(Button, {\n    color: match.params.category == \"flowers\" ? \"success\" : \"info\",\n    type: \"button\",\n    className: classes.buttonCenter,\n    value: \"flowers\",\n    onClick: () => history.push('/shopping/flowers'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }, \"Flowers\"), /*#__PURE__*/React.createElement(Button, {\n    color: match.params.category == \"people\" ? \"success\" : \"info\",\n    type: \"button\",\n    className: classes.buttonCenter,\n    value: \"people\",\n    onClick: () => history.push('/shopping/people'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, \"People\")) : /*#__PURE__*/React.createElement(Col, {\n    md: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, !mobileSize ? /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 70\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 91\n    }\n  }, \"Go To Checkout\"))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card-refine card-plain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CardTitle, {\n    tag: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 23\n    }\n  }, \"Filter Mask by Type\", \" \"), /*#__PURE__*/React.createElement(CardHeader, {\n    id: \"headingTwo\",\n    role: \"tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"text-info\",\n    \"aria-expanded\": collapses.includes(1),\n    \"data-toggle\": \"collapse\",\n    \"data-parent\": \"#accordion\",\n    href: \"#pablo\",\n    onClick: e => {\n      e.preventDefault();\n      changeCollapse(1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 29\n    }\n  }, \"Type\", \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"now-ui-icons arrows-1_minimal-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 31\n    }\n  })))), /*#__PURE__*/React.createElement(Collapse, {\n    isOpen: collapses.includes(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    tag: \"fieldset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"radio\",\n    defaultChecked: match.params.category == 'flowers' ? true : false,\n    name: \"radio1\",\n    value: \"flowers\",\n    onChange: () => history.push('/shopping/flowers'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-check-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 33\n    }\n  }), \"Flowers\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"radio\",\n    defaultChecked: match.params.category == 'animals' ? true : false,\n    name: \"radio1\",\n    value: \"animals\",\n    onChange: () => history.push('/shopping/animals'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-check-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 33\n    }\n  }), \"Birds/Butterflies\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"radio\",\n    defaultChecked: match.params.category == 'people' ? true : false,\n    name: \"radio1\",\n    value: \"people\",\n    onChange: () => history.push('/shopping/people'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-check-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 33\n    }\n  }), \"People\"))))))))), /*#__PURE__*/React.createElement(Col, {\n    md: \"9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 17\n    }\n  }, masksCategory && masksCategory.map((post, i) => {\n    const id = post._id;\n    const title = post.title;\n    const price = post.price;\n    const url = post.url;\n    const quantity = post.quantity;\n    let sessionCartItems = JSON.parse(sessionStorage.getItem('cart'));\n    let qty;\n    let limit;\n    let disabled;\n    let currentItem = itemsRef.current[i];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n      lg: \"4\",\n      md: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"card-product card-plain\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: (\"card-image\", classes.center),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: classes.clickable,\n      alt: \"...\",\n      src: post.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      tag: \"h4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 29\n      }\n    }, post.title), /*#__PURE__*/React.createElement(CardText, {\n      className: \"card-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 29\n      }\n    }, post.description), /*#__PURE__*/React.createElement(CardTitle, {\n      className: (\"card-description\", classes.fontPrice),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 33\n      }\n    }, \"$\", post.price), /*#__PURE__*/React.createElement(CardTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(CustomButton, {\n      type: \"negative\",\n      id: id,\n      title: title,\n      price: price,\n      url: url,\n      qty: quantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 43\n      }\n    }), \"  \", /*#__PURE__*/React.createElement(CustomButton, {\n      type: \"positive\",\n      id: id,\n      title: title,\n      price: price,\n      url: url,\n      qty: quantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 43\n      }\n    }))), /*#__PURE__*/React.createElement(CardFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CardText, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 33\n      }\n    }, \"Masks Remaining: \"), /*#__PURE__*/React.createElement(CardText, {\n      className: classes.paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 33\n      }\n    }, post.quantity == 0 ? /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.soldOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 38\n      }\n    }, \"SOLD OUT\") : /*#__PURE__*/React.createElement(\"span\", {\n      className: (classes.quantityStyle, classes.fontPrice),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 38\n      }\n    }, post.quantity))))));\n  })))))))));\n};\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/scc/client/src/App.js"],"names":["React","useContext","useEffect","useState","useRef","AuthContext","useMediaQuery","fetchMaskCategory","fetchAllMasks","Link","withRouter","makeStyles","CustomButton","Button","Card","CardHeader","CardBody","CardFooter","CardTitle","CardText","Collapse","Label","FormGroup","Input","Container","Row","Col","UncontrolledTooltip","App","history","match","state","dispatch","allMasks","cartItems","masksCategory","sessionCartItems","JSON","parse","sessionStorage","getItem","sessionAllMasks","hitButton","filterValue","setFilterValue","people","animals","flowers","mobileSize","tabletSize","itemsRef","useStyles","theme","paper","display","textAlign","flexDirection","padding","margin","avatar","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","color","text","clickable","height","objectFit","borderRadius","scroll","overflow","center","buttonCenter","cursor","fullWidth","buttonMargin","marginRight","soldOut","fontWeight","section","quantityStyle","header","fontSize","innerHeader","mobileInnerHeader","outerHeader","buttonStyle","filterFont","fontPrice","classes","params","category","type","payload","length","console","log","setItem","stringify","undefined","newTotal","reduce","acc","cartItem","quantity","current","collapses","setCollapses","changeCollapse","collapse","includes","filter","prop","location","pathname","push","e","preventDefault","map","post","i","id","_id","title","price","url","qty","limit","disabled","currentItem","description"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState,useRef} from 'react'\nimport AuthContext from './AuthContext'\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport {fetchMaskCategory,fetchAllMasks} from './actions'\nimport {Link,withRouter} from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles';\nimport CustomButton from './CustomButton/CustomButton'\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  CardText,\n  Collapse,\n  Label,\n  FormGroup,\n  Input,\n  Container,\n  Row,\n  Col,\n  UncontrolledTooltip,\n} from \"reactstrap\";\n\nconst App = ({history,match}) => {\n\n    const {state,dispatch} = useContext(AuthContext)\n    const {allMasks,cartItems,masksCategory} = state;\n    \n    let sessionCartItems = JSON.parse(sessionStorage.getItem('cart'))\n    let sessionAllMasks = JSON.parse(sessionStorage.getItem('allMasks'))\n    let hitButton = useRef(0)\n    const [filterValue, setFilterValue] = useState({people:false,animals:false,flowers:false})\n    const mobileSize = useMediaQuery('(max-width:600px)');\n    const tabletSize = useMediaQuery('(max-width:800px)');\n\n    const itemsRef = useRef([]);\n\n    const useStyles = makeStyles(theme => ({\n        paper: {\n          display: 'flex',\n          textAlign: 'center',\n          flexDirection: 'column',\n          padding:'15px',\n          margin:'15px',\n        },\n        avatar: {\n          margin: theme.spacing(1),\n          backgroundColor: theme.palette.secondary.main,\n        },\n        form: {\n          width: '100%', // Fix IE 11 issue.\n          marginTop: theme.spacing(3),\n        },\n        submit: {\n          margin: theme.spacing(3, 0, 2),\n        },\n        paper: {\n          padding: theme.spacing(.25),\n          textAlign: 'center',\n          color: theme.palette.text.secondary,\n        },\n        clickable:{\n          width:'200px',\n          height:'160px',\n          objectFit:'cover',\n          borderRadius:'4x',\n        },\n        scroll:{\n          overflow:'scroll',\n          margin:'25% 0 0 0'\n        },\n        width:{\n          width:0\n        },\n        center:{\n          textAlign:'center'\n        },\n        buttonCenter:{\n          margin:'5px',\n          cursor:'pointer'\n        },\n        fullWidth:{\n          margin:'auto'\n        },\n        buttonMargin:{\n          marginRight:'10px'\n        },\n        soldOut:{\n          color:'red',\n          fontWeight:'bold',\n          margin:'0 0 15% 0'\n        },\n        section:{\n          margin:'10% 0 15% 0'\n        },\n        quantityStyle:{\n          margin:'0 0 15% 0'\n        },\n        header:{\n          width:'100%',\n          textAlign:'center',\n          fontWeight:'bold',\n          fontSize:'1.05em',\n          display:'flex',\n          flexDirection:'row'\n        },\n        innerHeader:{\n          width:'30%',\n        },\n        mobileInnerHeader:{\n          width:'17%',\n        },\n        outerHeader:{\n          width:'65%',\n        },\n        buttonStyle:{\n          'color':'white',\n          'fontWeight':'bold'\n        },\n        filterFont:{\n          'fontSize':'1em'\n        },\n        fontPrice:{\n          fontWeight:'bold',\n          color:'black'\n        }\n      }));\n    \n    const classes = useStyles();\n\n    useEffect(() =>{\n      fetchAllMasks(dispatch)\n      fetchMaskCategory(dispatch,match.params.category)\n      \n        dispatch({type:\"HIDE_STICKY_UNIT\",payload:false})\n\n      if(sessionAllMasks && sessionAllMasks.length > 1 && sessionAllMasks !== null){\n        console.log(\"\")\n      } else{\n        sessionStorage.setItem('allMasks',JSON.stringify(allMasks))\n      }\n      dispatch({type:\"SET_ALERT\",payload:''})\n    },[])\n    \n    useEffect(() =>{\n\n      fetchMaskCategory(dispatch,match.params.category)\n    },[match.params])\n    \n    \n    useEffect(() =>{\n      \n      if(sessionAllMasks && sessionAllMasks.length > 1 && sessionAllMasks !== null){\n        console.log(\"\")\n      } else{\n        console.log(\"allMasks\")\n        console.log(allMasks)\n        sessionStorage.setItem('allMasks',JSON.stringify(allMasks))\n      }\n\n      if(cartItems && cartItems.length > 0){\n        // try{\n          if(cartItems !== undefined || cartItems !== null ){\n            sessionStorage.setItem('cart',JSON.stringify(cartItems))\n            newTotal = cartItems.reduce((acc,cartItem) => acc + cartItem.quantity,0)\n            dispatch({type:\"HIT_COUNT\",payload:hitButton.current +=1})\n            sessionStorage.setItem('cartTotal',newTotal)\n        }\n\n    }\n    },[cartItems,hitButton])\n\n    // collapse states and functions\n    const [collapses, setCollapses] = React.useState([1]);\n    const changeCollapse = (collapse) => {\n      if (collapses.includes(collapse)) {\n        setCollapses(collapses.filter((prop) => prop !== collapse));\n      } else {\n        setCollapses([...collapses, collapse]);\n      }\n    };\n\n    let newTotal;\n\n    return (\n        <>\n      <div className={\"wrapper\",classes.scroll}>\n        <div className={\"main\"}>\n          <div className={\"section\"}>\n            <Container>\n              <Row>\n              {tabletSize || mobileSize ? \n                (<div className={classes.header}>\n                  <div className={classes.mobileInnerHeader}></div>\n                  <div className={classes.outerHeader}>\n                    <p className={classes.filterFont}>Filter Mask by Type</p>\n                  </div>\n                </div>) : null}\n                {mobileSize && history.location.pathname !== '/checkout' || tabletSize && history.location.pathname !== '/checkout' ? (\n                <div className={classes.fullWidth}>\n                  <Button color={match.params.category == \"animals\" ? \"success\" : \"info\"} type=\"button\" className={classes.buttonCenter} value=\"animals\"  onClick={() => history.push('/shopping/animals')}>\n                      Animals\n                  </Button>\n                  <Button color={match.params.category == \"flowers\" ? \"success\" : \"info\"} type=\"button\" className={classes.buttonCenter} value=\"flowers\"  onClick={() => history.push('/shopping/flowers')}>\n                      Flowers\n                  </Button>\n                  <Button color={match.params.category == \"people\" ? \"success\" : \"info\"} type=\"button\" className={classes.buttonCenter} value=\"people\"  onClick={() => history.push('/shopping/people')}>\n                      People\n                  </Button>\n                </div>\n                ):(\n                  <Col md=\"3\">\n                  {!mobileSize ? (<Button color=\"info\" type=\"button\"><Link to=\"/checkout\"><span className={classes.buttonStyle}>Go To Checkout</span></Link></Button>) : null}\n                  <div className=\"collapse-panel\">\n                    <CardBody>\n                      <Card className=\"card-refine card-plain\">\n                      <CardTitle tag=\"h5\">\n                          Filter Mask by Type{\" \"}\n                        </CardTitle>\n                        <CardHeader id=\"headingTwo\" role=\"tab\">\n                          <h6>\n                            <a\n                              className=\"text-info\"\n                              aria-expanded={collapses.includes(1)}\n                              data-toggle=\"collapse\"\n                              data-parent=\"#accordion\"\n                              href=\"#pablo\"\n                              onClick={(e) => {\n                                e.preventDefault();\n                                changeCollapse(1);\n                              }}\n                            >\n                              Type{\" \"}\n                              <i className=\"now-ui-icons arrows-1_minimal-down\"></i>\n                            </a>\n                          </h6>\n                        </CardHeader>\n                        <Collapse isOpen={collapses.includes(1)}>\n                          <CardBody>\n                          <FormGroup tag=\"fieldset\">\n                            <FormGroup>\n                              <Label>\n                                <Input type=\"radio\" defaultChecked={match.params.category == 'flowers' ? true : false} name=\"radio1\" value=\"flowers\" onChange={() => history.push('/shopping/flowers')}></Input>\n                                <span className=\"form-check-sign\"></span>\n                                Flowers\n                              </Label>\n                            </FormGroup>\n                            <FormGroup>\n                              <Label>\n                                <Input type=\"radio\" defaultChecked={match.params.category == 'animals' ? true : false} name=\"radio1\" value=\"animals\" onChange={() => history.push('/shopping/animals')}></Input>\n                                <span className=\"form-check-sign\"></span>\n                                Birds/Butterflies\n                              </Label>\n                            </FormGroup>\n                            <FormGroup>\n                              <Label>\n                                <Input type=\"radio\" defaultChecked={match.params.category == 'people' ? true : false} name=\"radio1\" value=\"people\" onChange={() => history.push('/shopping/people')}></Input>\n                                <span className=\"form-check-sign\"></span>\n                                People\n                              </Label>\n                            </FormGroup>\n                            </FormGroup>\n                          </CardBody>\n                        </Collapse>\n                      </Card>\n                    </CardBody>\n                  </div>\n                </Col>\n                )}\n            <Col md=\"9\">\n                <Row>\n            {masksCategory && masksCategory.map((post,i) =>{\n                const id = post._id;\n                const title = post.title;\n                const price = post.price;\n                const url = post.url;\n                const quantity = post.quantity;\n                let sessionCartItems = JSON.parse(sessionStorage.getItem('cart'))\n                let qty;\n                let limit;\n                let disabled;\n                let currentItem = itemsRef.current[i]\n\n                return(\n                <>\n                    <Col lg=\"4\" md=\"6\">\n                      <Card className=\"card-product card-plain\">\n                      <div className={\"card-image\",classes.center}>\n                            <img\n                              className={classes.clickable}\n                              alt=\"...\"\n                              src={post.url}\n                            />\n                        </div>\n                        <CardBody>\n                            <CardTitle tag=\"h4\">{post.title}</CardTitle>\n                            <CardText className=\"card-description\">{post.description}</CardText>\n                                <CardTitle className={\"card-description\",classes.fontPrice}>${post.price}</CardTitle>\n                                <CardTitle>\n                                    {/* <Button \n                                        color=\"info\" \n                                        ref={el => itemsRef.current[i] = el}\n                                        size={mobileSize || tabletSize  ? \"lg\" : \"regular\"}\n                                        variant=\"contained\"\n                                        disabled={!disabled}\n                                        className={classes.buttonMargin}\n                                        onClick={() => removeItemFromCart(id,title,price,url)} /> */}\n                                          <CustomButton type=\"negative\" id={id} title={title} price={price} url={url} qty={quantity}/>\n                                      \n                                      {\"  \"}\n                                    {/* <Button \n                                        color=\"info\" \n                                        ref={el => itemsRef.current[i] = el}\n                                        size={mobileSize || tabletSize ? \"lg\" : \"regular\"}\n                                        variant=\"contained\" \n                                        name={id}\n                                        className={classes.buttonMargin}\n                                        disabled={limitReached}\n                                        onClick={e => addItemToCart(id,title,price,url,currentItem)}>\n                                        <HitCount type=\"positive\" />\n                                      </Button> */}\n                                          <CustomButton type=\"positive\" id={id} title={title} price={price} url={url} qty={quantity}/>\n                                </CardTitle>\n                        </CardBody>\n                            <CardFooter>\n                                <CardText className={classes.paper}>Masks Remaining: </CardText>\n                                <CardText className={classes.paper}>{post.quantity == 0 ? \n                                    (<span className={classes.soldOut}>SOLD OUT</span>): \n                                    (<span className={classes.quantityStyle,classes.fontPrice}>{post.quantity}</span>)}\n                                </CardText>\n                            </CardFooter>\n                        </Card>\n                    </Col>\n        </>)})}\n                </Row>\n            </Col>\n    </Row>\n</Container>\n          </div>\n        </div>\n      </div>\n    </>\n        )\n}\n\nexport default withRouter(App)"]},"metadata":{},"sourceType":"module"}